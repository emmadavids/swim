<script src="https://kit.fontawesome.com/6b1e3df50c.js" crossorigin="anonymous"></script>
<link rel='stylesheet' type='text/css' href='https://api.tomtom.com/maps-sdk-for-web/cdn/6.x/6.13.0/maps/maps.css'/> 
<script src='https://api.tomtom.com/maps-sdk-for-web/cdn/6.x/6.13.0/maps/maps-web.min.js'></script> 
  
  <div id='map' class='map'></div> 
     
   <!-- load TomTom Maps Web SDK from CDN -->

 <script> 
       // create the map 
        tt.setProductInfo('TomTom Maps Django Demo', '1.0'); 
       let map = tt.map({ 
           key: 'ImaIRcX2InHyYVgOi3BVJeQaBM1GxPAb', 
           container: 'map' 
       }); 
 
       // add store markers 
       let bounds = [] 
       let swimLocations = JSON.parse("{{ locations|escapejs }}"); 
       console.log("this is swimLocations: " + swimLocations)
       for (let swimLocation of swimLocations) { 
            let coordinates = [swimLocation.longitude, swimLocation.latitude]; 
            bounds.push(coordinates); 
 
           let marker = new tt.Marker() 
               .setLngLat(coordinates) 
               .addTo(map); 
       } 
 
       // zoom the map to fit all markers 
        map.on('load', () => { 
            map.fitBounds(bounds, { 
               padding: { top: 50, bottom:50, left: 50, right: 50 } 
           }); 
       }) 
   </script> 