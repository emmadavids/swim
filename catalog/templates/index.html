{% extends "base_generic.html" %}

{% block content %}
 
  <div class="container"> 
    <div class="row"> 
      <div class="intro col-sm">
      Hello and welcome to swim database. Please see below for information on various open water swimming locations. You can filter the below swims by facilities (cafe or toilets)
      or "distance suitable" which denotes that the location is suitable for long-distance or triathlon training, when you want more than just a cool refreshing dip. 
      Research on open water swimming is still in its infancy, but early studies indicate promising results for mental wellness. Please help us build the database by adding to it 
      <a href="{% url 'add' %}">here</a>.<br>
   <br>
        {% if form is not None %}
        <strong>Swim filter:</strong><form method="post" novalidate>
           {% csrf_token %}
       
           {{ form }}
          
           <button class="pbt btn btn-outline-info" type="submit">Submit</button>
           {% endif %}
       
    </div>
    </div><br>
    <div class="card-deck">
   {% for i in page_obj.object_list %}  

      {% if i.3 %}
      
   
              
          

                
                  <div class="card" style="max-width: 24.5rem;">
                    <a href="{% url 'get' i.0 %}"> 
                      {% if i.5.image is None %} 
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
                        <path fill="#0099ff" fill-opacity="0.6" d="M0,128L14.1,106.7C28.2,85,56,43,85,37.3C112.9,32,141,64,169,112C197.6,160,226,224,254,229.3C282.4,235,311,181,339,154.7C367.1,128,395,128,424,117.3C451.8,107,480,85,508,69.3C536.5,53,565,43,593,80C621.2,117,649,203,678,208C705.9,213,734,139,762,90.7C790.6,43,819,21,847,16C875.3,11,904,21,932,64C960,107,988,181,1016,186.7C1044.7,192,1073,128,1101,128C1129.4,128,1158,192,1186,197.3C1214.1,203,1242,149,1271,117.3C1298.8,85,1327,75,1355,96C1383.5,117,1412,171,1426,197.3L1440,224L1440,320L1425.9,320C1411.8,320,1384,320,1355,320C1327.1,320,1299,320,1271,320C1242.4,320,1214,320,1186,320C1157.6,320,1129,320,1101,320C1072.9,320,1045,320,1016,320C988.2,320,960,320,932,320C903.5,320,875,320,847,320C818.8,320,791,320,762,320C734.1,320,706,320,678,320C649.4,320,621,320,593,320C564.7,320,536,320,508,320C480,320,452,320,424,320C395.3,320,367,320,339,320C310.6,320,282,320,254,320C225.9,320,198,320,169,320C141.2,320,113,320,85,320C56.5,320,28,320,14,320L0,320Z"></path>
                      </svg> {% else % }
                      <img class="card-img-top" src="../../{{ i.5.image }}" alt="Card image cap">
                      {% endif %}
                </a>
                    <div class="card-body">
                      <h5 class="card-title"> <a href="{% url 'get' i.0 %}">{{i.1}}</a></h5>
                      <p class="blurb card-text">{{i.4|slice:":165"}}...</p>
                      <p class="card-text"><small class="text-muted">Water quality: {{i.2}}</small></p>
                    </div>
                  </div>

         {% endif %}
      {% endfor %}
    </div>
     <br>

      <ul class="pagination justify-content-center">
         {% if page_obj.has_previous %}
         <li class="page-item">
             <a class="page-link" href="?page={{ page_obj.previous_page_number }}">
                 Previous
             </a>
         </li>
         {% endif %}
         {% if page_obj.paginator.num_pages > 1 %}
         {% for n in page_obj.paginator.page_range %}
         {% if page_obj.number == n %}
         <li class="page-item active">
             <a class="page-link" href="?page={{ n }}">{{ n }}</a>
         </li>
         {% endif %}
         {% endfor %}
         {% endif %}
         {% if page_obj.has_next %}
         <li class="page-item">
             <a class="page-link" href="?page={{ page_obj.next_page_number }}">
                 Next
             </a>
         </li>
         {% endif %}
     </ul></div>
{% endblock %}